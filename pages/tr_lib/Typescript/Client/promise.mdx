# Client

## onPromise
define a promise that returns a value to the server side caller
```ts
onPromise<T extends (...args: any) => ReturnType<T>>(
  endpoint: string,
  Function: T
): boolean
```

---
### Parameters
* endpoint: The unique name of the promise endpoint
* Function: The function to run when the promise is triggered

---
### Returns
* success: true if the promise was registered successfully

---

## triggerPromise
trigger a defined promise awaiting a value from the server
```ts
triggerPromise<T = unknown>(
  options?: [number, boolean] | number | boolean | string,
  endpoint: string,
  ...parameters: any[]
): Promise<T | null>
```

---
### Parameters
* options?: [timeout in milliseconds, enable debug mode]
* endpoint: The unique name of the promise endpoint
* ...parameters?: The parameters to pass with the callback

---
### Returns
* response: the return value of the server side promise

---
### Examples
```ts
import { onPromise, triggerPromise } from '@trippler/tr_lib/client'

onPromise('tr_kit/client/test', (message: string) => {
  console.log(`I'm the client number 3, ${message /* server Let's roll param */}`)
  return 'client bingo bango bongo'
})

const message = await triggerPromise<{ message: string }>('tr_kit/server/test', `client Let's roll param`)

console.log(message) /* server bingo bango bongo */
```